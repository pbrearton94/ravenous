(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[478],{LuU8:function(t,e,c){"use strict";c.d(e,"b",(function(){return pathRedirect})),c.d(e,"a",(function(){return fetchInitialPathContent}));var n=c("rePB"),o=c("GR0a"),a=c("lkI2"),i=c("e18T"),r=c("1xSP"),u=c("p7af"),b=c("kg3G"),d=c("y/Yg"),s=c("ePBi"),l=c("ukIe"),O=c("aD9D"),j=c("mpkx"),m=c("FLWv"),g=c("mUlu"),p=c("p+FQ"),S=c("VogR"),f=c("fDCE"),_=c("Rab/"),h=c("c8W1");function ownKeys(t,e){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),c.push.apply(c,n)}return c}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(c),!0).forEach((function(e){Object(n.a)(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):ownKeys(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}const pathNavigate=({path:t,track:e,module:c,contentItem:n},a=!0)=>async(u,b)=>{const d=b(),s=Object(_.m)(d),l=(({path:t,track:e,module:c,contentItem:n})=>({pathSlug:t.slug,trackSlug:e.slug,moduleSlug:c.slug,contentItemType:r.c[n.type].pluralType,contentItemSlug:n.slug}))({path:t,track:e,module:c,contentItem:n});let O=i.f(_objectSpread(_objectSpread({},l),{},{query:s}));a&&(O=Object(o.redirect)(O)),u(O)},pathResume=()=>async(t,e)=>{const c=e(),n=Object(_.j)(c),o=Object(p.c)(c,n.pathSlug),a=Object(d.a)(c,o.id),i=Object(s.e)(e(),a.contentItemIds)||a.contentItemIds[a.contentItemIds.length-1];await t(Object(l.b)({ids:[i],minimal:!1}));const r=Object(b.b)(e(),{id:i}),u=a.modules.find((t=>t.content_item_ids.indexOf(r.id)>-1)),O=a.tracks.find((t=>t.module_ids.indexOf(u.id)>-1));t(pathNavigate({path:o,track:O,module:u,contentItem:r}))},pathTrackResume=()=>async(t,e)=>{const c=e(),n=Object(_.j)(c),o=Object(p.c)(c,n.pathSlug),a=Object(f.c)(c,n.trackSlug);if(!a)return void t(pathResume());const i=Object(d.b)(c,a.id),r=Object(s.e)(e(),i.contentItemIds)||i.contentItemIds[i.contentItemIds.length-1];await t(Object(l.b)({ids:[r],minimal:!1}));const u=Object(b.b)(e(),{id:r}),O=i.modules.find((t=>t.content_item_ids.indexOf(u.id)>-1));t(pathNavigate({path:o,track:a,module:O,contentItem:u}))},pathRedirect=()=>async(t,e)=>{const c=e(),n=Object(_.j)(c);Object(p.c)(c,n.pathSlug)||await t(Object(g.d)(n.pathSlug));const o=Object(p.c)(e(),n.pathSlug);await t(Object(S.f)(o.track_ids));const a=Object(f.g)(e(),o.track_ids).reduce(((t,e)=>t.concat(e.module_ids)),[]);await t(Object(j.f)(a));const i=Object(m.g)(e(),a).reduce(((t,e)=>t.concat(e.content_item_ids)),[]);await Promise.all([t(Object(u.c)(i)),t(Object(l.b)({ids:i,minimal:!1}))]),n.trackSlug?n.moduleSlug?t((async(t,e)=>{const c=e(),n=Object(_.j)(c),o=Object(p.c)(c,n.pathSlug),a=Object(f.c)(c,n.trackSlug);if(!a)return void t(pathResume());const i=Object(m.d)(c,n.moduleSlug);if(!i)return void t(pathTrackResume());const r=i.content_item_ids,u=Object(s.e)(e(),r)||r[r.length-1];await t(Object(l.b)({ids:[u],minimal:!1}));const d=Object(b.b)(e(),{id:u});t(pathNavigate({path:o,track:a,module:i,contentItem:d}))})):t(pathTrackResume()):t(pathResume())},fetchInitialPathContent=()=>async(t,e)=>{const c=Object(_.j)(e());if(Object(p.c)(e(),c.pathSlug)||await t(Object(g.d)(c.pathSlug)),await t(Object(h.a)()),!Object(O.c)(e(),c.contentItemSlug)){const n=Object(_.m)(e()),r=c.pathSlug,u=c.trackSlug,b=c.moduleSlug;Object(a.a)("info",`Content Item: ${c.contentItemSlug} doesn't exist in this track; Redirecting`),t(Object(o.redirect)(i.g(_objectSpread(_objectSpread({},{pathSlug:r,trackSlug:u,moduleSlug:b}),{},{query:n}))))}}}}]);
//# sourceMappingURL=478.c3420e9f0069c17ffa63.chunk.js.map